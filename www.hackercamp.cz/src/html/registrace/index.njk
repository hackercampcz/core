{%- from "macros/helpers.njk" import image -%}
<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8"/>
  <meta name="robots" content="noindex">
  <title>Registrace na Hacker Camp</title>
  <link rel="preconnect" href="https://res.cloudinary.com"/>
  <link rel="preconnect" href="https://www.googletagmanager.com"/>
  <link rel="preconnect" href="https://www.google-analytics.com"/>
  <meta http-equiv="delegate-ch" content="sec-ch-width https://res.cloudinary.com; sec-ch-dpr https://res.cloudinary.com; sec-ch-viewport-width https://res.cloudinary.com;">
  <meta http-equiv="Accept-CH" content="DPR,Viewport-Width,Width,Save-Data"/>
  <meta
    name="viewport"
    content="width=device-width,initial-scale=1,viewport-fit=cover"
  />
  <meta
    name="description"
    content="Zažijte netradiční třídenní festival pro lidi z české tech scény. V duchu nekonference či barcampu se od sebe budeme vzájemně učit, bavit se a poznávat."
  />

  {% include "shared/fonts.html" %}
  <style>
    :root {
      --hc-layout-width: 1600px;
      --hc-font-family: PT Mono, monospace;
      --hc-background-color: #fff;
      --hc-text-color: #585a5c;
      --hc-heading-color: #000;
      --hc-link-color: #2161b1;
      --hc-link-visited-color: #bb006e;
      --hc-gradient: linear-gradient(
        90deg,
        #ee771b -0.01%,
        #e9444e 25.57%,
        #e62271 42.71%,
        #684997 78.9%,
        #3e7abc 100.02%
      );
      --hc-gradient-btn: linear-gradient(
        90deg,
        #ee771b -0.01%,
        #e9444e 11.28%,
        #e62271 24.31%,
        #684997 36.29%,
        #3e7abc 50%,
        #684997 61.3%,
        #e62271 74.84%,
        #e9444e 88.39%,
        #ee771b 100.02%
      );
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --hc-background-color: #222;
        --hc-background-image: url(data:image/png;base64,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);
        --hc-text-color: #ececec;
        --hc-heading-color: #fff;
        --hc-link-color: #5d88c8;
        --hc-link-visited-color: #ea7c46;
      }
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    body {
      color: var(--hc-text-color);
      background-color: var(--hc-background-color);
      background-image: var(--hc-background-image, none);
      font-family: var(--hc-font-family);
      font-size: 16px;
      letter-spacing: 0;
      line-height: 1.5;
      font-kerning: normal;
      font-variant-numeric: lining-nums slashed-zero;
      font-variant-ligatures: common-ligatures contextual;
      -webkit-font-feature-settings: "kern", "liga", "clig", "calt", "lnum",
      "zero";
      font-feature-settings: "kern", "liga", "clig", "calt", "lnum", "zero";
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
    }

    a:link {
      color: var(--hc-link-color);
    }

    a:visited {
      color: var(--hc-link-visited-color);
    }

    strong em {
      font-style: normal;
    }

    ul {
      max-width: 60em;
      margin-left: auto;
      margin-right: auto;
    }

    header,
    footer,
    section {
      margin: 0 auto;
      max-width: var(--hc-layout-width);
    }

    footer::before {
      content: "";
      display: block;
      height: 3px;
      background-image: var(--hc-gradient);
    }

    h1,
    h2 {
      font-weight: bold;
      color: var(--hc-heading-color);
    }

    h1 {
      margin-bottom: 0;
      font-weight: 800;
      font-size: 3em;
    }

    hgroup h2 {
      margin: 0;
    }

    hgroup small {
      text-transform: capitalize;
    }

    h2,
    .hc-text--gay {
      color: #fff;
      background-image: var(--hc-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      width: -moz-fit-content;
      width: fit-content;
    }

    .hc-hero {
      font-weight: bold;
    }

    .hc-card {
      background-color: var(--hc-background-color);
      /* border: 1px solid #f2f2f2; */
      box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.07);
      padding: var(--mdc-layout-grid-gutter-phone);
    }

    .hc-card.hc-card--decorated {
      position: relative;
      z-index: 1;
    }

    .hc-card.hc-card--decorated::before {
      content: "";
      display: block;
      width: 135px;
      height: 4px;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 2;
      background-image: var(--hc-gradient);
      transition: width 0.4s ease;
    }

    .hc-card.hc-card--decorated:active::before,
    .hc-card.hc-card--decorated:hover::before {
      width: 100%;
    }

    .hc-card.hc-card--flat {
      background-image: var(--hc-gradient);
      color: #fff;
    }

    .hc-card.hc-card--centered {
      text-align: center;
    }

    .hc-card.hc-card--picture {
      padding: 0
    }

    @media screen and (min-width: 600px) {
      .hc-card {
        padding: var(--mdc-layout-grid-gutter-tablet);
      }
    }

    @media screen and (min-width: 840px) {
      .hc-card {
        padding: var(--mdc-layout-grid-gutter-desktop);
      }
    }

    .hc-button {
      color: #fff;
      background-image: var(--hc-gradient-btn);
      background-size: 200% 100%;
      font-family: var(--hc-font-family);
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 0;
      line-height: 1.5;
      font-kerning: normal;
      font-variant-numeric: lining-nums slashed-zero;
      font-variant-ligatures: common-ligatures contextual;
      -webkit-font-feature-settings: "kern", "liga", "clig", "calt", "lnum",
      "zero";
      font-feature-settings: "kern", "liga", "clig", "calt", "lnum", "zero";
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
      text-decoration: none;
      padding: 0.75em 2.5em;
      transition: background-position 0.4s ease-in-out;
      border: 0 none;
      margin: 16px auto;
      display: block;
    }

    .hc-button:active,
    .hc-button:hover {
      background-position: 100% 0;
    }

    .hc-button:disabled {
      opacity: .8;
    }

    .hc-icon-link:link,
    .hc-icon-link:visited {
      --icon-color: var(--hc-text-color);
      color: var(--hc-text-color);
      text-decoration: none;
      font-weight: bold;
      display: inline-flex;
      align-items: center;
    }

    .hc-icon-link:hover {
      --icon-color: var(--hc-link-color);
      color: var(--hc-link-color);
      text-decoration: underline;
    }

    .hc-icon-link svg {
      padding-right: 1ex;
    }

    .hc-link--decorated {
      text-decoration: none;
      font-weight: bold;
      display: inline-block;
      padding: 18px 16px;
      border: 2px solid;
      border-image-slice: 1;
      border-image-source: var(--hc-gradient);
      background-image: var(--hc-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hc-navbar {
      position: fixed;
      width: 100%;
      height: 78px;
      background: var(--hc-background-color);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
      z-index: 1000;
    }

    .hc-navbar__link {
      line-height: 56px;
      margin-right: 2em;
    }

    #top {
      padding-top: 78px;
      margin-bottom: 0;
    }

    .hc-navbar__right {
      display: none;
    }

    @media screen and (min-width: 600px) {
      .hc-navbar {
        height: 100px;
      }

      .hc-navbar__right {
        display: flex;
        justify-content: flex-end;
      }

      #top {
        padding-top: 100px;
      }
    }

    h1 {
      text-align: center;
      margin-top: 2em;
    }

    hr {
      border: 0 none;
      height: 1px;
      background-color: #F2F2FA;
      margin: 24px 0;
    }

    .form-story {
      text-align: center;
      max-width: 40em;
      margin: 24px auto 0 auto;
      font-weight: 400;
    }

    .form-story ul li {
      text-align: left;
      line-height: 2;
    }

    #reg {
      max-width: 40em;
    }

    #reg h2 {
      margin-left: auto;
      margin-right: auto;
    }

    #reg p.disclaimer {
      text-align: center;
      font-size: 14px;
      padding: 24px;
    }

    #reg section {
      margin-bottom: 24px;
    }

    #reg h3 {
      font-size: 16px;
    }

    #reg section .hc-card {
      margin: 2em 0;
    }

    #reg section .hc-card h3:first-child {
      margin-top: 0;
    }

    .section-story {
      font-size: 14px;
    }

    #reg input,
    #reg select {
      font-family: var(--hc-font-family);
      font-size: 16px;
      letter-spacing: 0;
      line-height: 1.5;
      font-kerning: normal;
      font-variant-numeric: lining-nums slashed-zero;
      font-variant-ligatures: common-ligatures contextual;
      -webkit-font-feature-settings: "kern", "liga", "clig", "calt", "lnum", "zero";
      font-feature-settings: "kern", "liga", "clig", "calt", "lnum", "zero";
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
      width: 100%;
      box-sizing: border-box;
    }

    #reg .field {
      display: flex;
      flex-direction: column;
      padding-bottom: 4px;
      flex: 1;
    }

    #reg fieldset {
      border: none;
      padding: 0;
      margin: 0;
    }

    [aria-hidden="true"] {
      display: none !important;
    }

    #reg .field label {
      flex: 1;
      padding-top: 4px;
      padding-bottom: 2px;
    }

    #reg .field input,
    #reg .field textarea,
    #reg .field select {
      flex: 2;
      font-size: 16px;
      padding: 4px;
    }

    #reg .field select {
      min-height: 36px;
    }

    #reg .field--block {
      margin-bottom: 16px;
    }

    #reg .group {
      display: flex;
      flex-direction: column;
    }

    @media (min-width: 490px) {
      #reg .group {
        gap: 8px;
        flex-direction: row;
      }
    }

    #reg .question {
      text-align: center;
      padding-top: 12px;
    }

    #reg .question input {
      width: 16px;
      height: 16px;
    }

    #reg .choose {
      display: flex;
    }

    #reg .choose:not(:last-child) {
      margin-bottom: 24px;
    }

    #reg .choose input {
      width: 16px;
      height: 16px;
    }

    #reg .choose > label,
    #reg .choose > div {
      padding-left: 8px;
      display: block;
      flex: 1;
    }

    #reg .choose input:not(:checked) + div .patron-allowance {
      display: none;
    }

    #reg .choose .patron-allowance input {
      width: 120px;
    }

    #reg label span {
      display: block;
      font-size: 14px;
    }

    .patron-allowance {
      display: block;
      margin-top: 8px;
    }

  </style>
  <link rel="canonical" href="https://www.hackercamp.cz/"/>
  <link rel="author" href="/humans.txt" type="text/plain"/>

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
  <link rel="manifest" href="/sitemanifest.json"/>
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#e052a4"/>
  <meta name="msapplication-TileColor" content="#f5f5f5"/>
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/>
  <meta name="theme-color" content="#222222" media="(prefers-color-scheme: dark)"/>

  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  {% include "shared/rollbar.njk" %}

  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        "gtm.start": new Date().getTime(),
        event: "gtm.js"
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-5F59KHT");
  </script>
  <!-- End Google Tag Manager -->
</head>

<body vocab="https://schema.org" typeof="CheckoutPage">
<!-- Google Tag Manager (noscript) -->
<noscript>
  <iframe
    src="https://www.googletagmanager.com/ns.html?id=GTM-5F59KHT"
    height="0"
    width="0"
    style="display: none; visibility: hidden"
  ></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
<nav class="hc-navbar mdc-layout-grid" style="line-height: 1;">
  <div class="mdc-layout-grid__inner">
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop">
      {% include "shared/logo.html" %}
    </div>
    <div class="hc-navbar__right mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop">
      <a class="hc-link hc-navbar__link" href="https://g.page/sobenak?share">Mapa</a>
      <a class="hc-link hc-navbar__link" href="/faq/">FAQ</a>
    </div>
  </div>
</nav>

<div class="hc-code-bg">
  <header id="top" class="hc-hero mdc-layout-grid">
    <div class="mdc-layout-grid__inner">
      <div
        class="hc-hero__inner mdc-layout-grid__cell mdc-layout-grid__cell--span-12"
      >
        <h1>Registrace</h1>
      </div>
    </div>
    <div id="hacker-greeting" class="form-story">
      {% markdown "registrace/hacker-greeting.md" %}
    </div>
    <div id="volunteer-greeting" class="form-story" aria-hidden="true">
      {% markdown "registrace/volunteer-greeting.md" %}
    </div>
  </header>
</div>
<form action="{{ build["api-host"] }}registration" method="post" class="mdc-layout-grid" id="reg">
  <section id="contact">
    <h2>Něco o tobě</h2>
    <div class="hc-card">
      <fieldset>
        <div class="group">
          <div class="field">
            <label for="firstname">
              Jméno
            </label>
            <input id="firstname" name="firstName" type="text" autocomplete="given-name" required="required"/>
          </div>
          <div class="field">
            <label for="lastname">
              Příjmení
            </label>
            <input id="lastname" name="lastName" type="text" autocomplete="family-name" required="required"/>
          </div>
        </div>
        <div class="group">
          <div class="field">
            <label for="email">
              E-mail
            </label>
            <input id="email" name="email" type="email" autocomplete="email" required="required"/>
          </div>
          <div class="field">
            <label for="phonenum">
              Telefon
            </label>
            <input id="phonenum" name="phone" type="tel" autocomplete="tel" required="required"/>
          </div>
        </div>
        <div class="field">
          <label for="company">
            Jméno firmy
            (jednotlivec nemusí)
          </label>
          <input id="company" name="company" type="text" autocomplete="on"/>
        </div>
        <div class="group">
          <div class="field">
            <label for="first-time">
              Jedeš na HC poprvé?
            </label>
            <select name="firstTime" id="first-time">
              <option value="1">Ano</option>
              <option value="0">Byl/a jsem loni</option>
            </select>
          </div>
          <div class="field">
            <label for="inviter">
              Kdo tě pozval?
            </label>
            <input id="inviter" name="inviter" type="text" placeholder="Celé jméno prosím"/>
          </div>
        </div>
        <p id="go-to-login" aria-hidden="true">
          <strong>Aha!</strong> Tak to už máš přístup na Slack - <a
            href="https://donut.hackercamp.cz/registrace/"><strong>Pojď tudy</strong></a>!
        </p>
      </fieldset>
    </div>
    <fieldset id="volunteer" disabled aria-hidden="true">
      <div class="hc-card">
        <input type="hidden" name="ticketType" value="volunteer">
        <h3>Jak se zapojím</h3>
        <p>Zde je výčet hlavních aktivit. Můžeš zaškrtnout i více odpovědí. Prosím počítej s tím, že některé aktivity jsou spíše nárazové, takže je možné, že tě využijeme i někde jinde a síly rozložíme dle potřeby.</p>
        <div class="choose">
          <input type="checkbox" name="volunteerInfoDeskAndRegistration" id="volunteer-info-reg">
          <label for="volunteer-info-reg">Budu pomáhat s registrací a ubytováním účastníků, úschovnou a info stánkem</label>
        </div>
        <div class="choose">
          <input type="checkbox" name="volunteerBar" id="bar">
          <label for="bar">Budu pomáhat na baru</label>
        </div>
        <div class="choose">
          <input type="checkbox" name="volunteerConstruction" id="construction">
          <label for="construction">Budu pomáhat primárně s výstavbou a likvidací areálu, parkingem aut a další</label>
        </div>
        <div class="choose">
          <input type="checkbox" name="volunteerDriver" id="driver">
          <label for="driver">Budu k dispozici jako možný řidič pro účastníky, kteří budou potřebovat někam přiblížit</label>
        </div>
        <div class="choose">
          <input type="checkbox" name="volunteerSport" id="sport">
          <label for="sport">Budu pomáhat Káje se sportovními doprovodnými aktivitami</label>
        </div>
    </fieldset>
  </section>
  <script type="module">
    document.querySelector("select#first-time").addEventListener("change", (event) => {
      if (parseInt(event.target.value)) {
        document.querySelector("#inviter").parentElement.removeAttribute("aria-hidden");
        // document.querySelector("#plus-one").parentElement.setAttribute("aria-hidden", "true");
        // document.querySelector("#plus-one-section").setAttribute("aria-hidden", "true");
        // document.querySelector("select#plus-one").value = "0";
        document.querySelector("#go-to-login").setAttribute("aria-hidden", "true");
      } else {
        // document.querySelector("#plus-one").parentElement.removeAttribute("aria-hidden");
        document.querySelector("#go-to-login").removeAttribute("aria-hidden");
        document.querySelector("#inviter").parentElement.setAttribute("aria-hidden", "true");
      }
    });
    // document.querySelector("select#plus-one").addEventListener("change", (event) => {
    //   if (parseInt(event.target.value)) {
    //     document.querySelector("#plus-one-section").removeAttribute("aria-hidden");
    //   } else {
    //     document.querySelector("#plus-one-section").setAttribute("aria-hidden", "true");
    //   }
    // });
  </script>
  <section id="ticket">
    <h2>Lístek</h2>
    <div class="hc-card">
      <fieldset>
        <div class="choose">
          <input type="radio" name="ticketType" value="nonprofit" id="ticket-nonprofit"/>
          <label for="ticket-nonprofit">
            <strong>Táborník z neziskovky</strong> - 3&thinsp;000&nbsp;CZK
            <span>Zvýhodněné vstupné (pro neziskové organizace a studenty)</span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="ticketType" value="hacker" checked="checked" id="ticket-hacker"/>
          <label for="ticket-hacker">
            <strong>Hacker</strong> - 6&thinsp;000&nbsp;CZK<br/>
            <span>Normální vstupné</span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="ticketType" value="hacker-plus" id="ticket-hacker-plus"/>
          <label for="ticket-hacker-plus">
            <strong>Hacker filantrop</strong> - 9&thinsp;000&nbsp;CZK
            <span>Normální vstupné + příspěvek na vstupné pro neziskové organizace a studenty</span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="ticketType" value="hacker-patron" id="ticket-patron"/>
          <div>
            <label for="ticket-patron">
              <strong>Patron campu</strong>
              <span>Chci podpořit neziskovku i vás, protože chci podobnou akci i za rok.</span>
            </label>
            <label class="patron-allowance">
              Přispěju částkou 9&thinsp;000&nbsp;CZK +
              <input type="text" name="patronAllowance"/>&nbsp;CZK
            </label>
          </div>
        </div>
      </fieldset>
    </div>
  </section>
  <section id="invoice">
    <h2>Fakturace</h2>
    <p class="disclaimer">Tahle sekce je důležitá, abychom vám mohli vystavit fakturu za vstupenky.</p>
    <div class="hc-card">
      <div class="field">
        <fieldset>
          <label for="invoice-recipient">
            Kdo to zaplatí?
          </label>
          <select name="invRecipient" id="invoice-recipient">
            <option value="0">No, budu to muset být já (jedu sám nebo mám na starosti víc lidí)</option>
            <option value="1">Někdo jiný (vedoucí výpravy naší skupiny)</option>
          </select>
        </fieldset>
      </div>
      <fieldset id="I-will-pay">
        <p>Prosím, <strong>tohle vyplň už teď</strong>. Ušetříme si tím společně spoustu času.</p>
        <div class="field">
          <label for="invoice-name">
            Jméno / název společnosti
          </label>
          <input id="invoice-name" name="invName" type="text" required placeholder="Kancelář prezidenta republiky"/>
        </div>
        <div class="field">
          <label for="invoice-address">
            Adresa (Ulice č.p., PSČ, Město)
          </label>
          <input id="invoice-address" name="invAddress" type="text" required
                 placeholder="Hrad I. nádvoří 1, Hradčany, 119 08 Prague 1"/>
        </div>
        <div class="group">
          <div class="field">
            <label for="invoice-regno">
              IČ
            </label>
            <input id="invoice-regno" name="invRegNo" type="text" placeholder="48136000"/>
          </div>
          <div class="field">
            <label for="invoice-vatno">
              DIČ
            </label>
            <input id="invoice-vatno" name="invVatNo" type="text"/>
          </div>
        </div>
        <div class="field">
          <label for="invoice-text">
            Text na faktuře
            <span>Pokud potřebuješ něco spešl</span>
          </label>
          <input id="invoice-text" name="invText" type="text"/>
        </div>
        <div class="field">
          <label for="invoice-email">
            Kontakt pro fakturaci
            <span>Pokud to nejsi ty</span>
          </label>
          <input id="invoice-email" name="invEmail" type="email" autocomplete="email" placeholder="invoices@hrad.cz"/>
        </div>
      </fieldset>
      <fieldset id="someone-else-will-pay" disabled aria-hidden="true">
        <p>Kdo to má na starosti?</p>
        <div class="group">
          <div class="field">
            <label for="invoice-recipient-firstname">
              Jméno
            </label>
            <input id="invoice-recipient-firstname" name="invRecipientFirstname" type="text" required>
          </div>
          <div class="field">
            <label for="invoice-recipient-lastname">
              Příjmení
            </label>
            <input id="invoice-recipient-lastname" name="invRecipientLastname" type="text" required>
          </div>
        </div>
        <div class="group">
          <div class="field">
            <label for="invoice-recipient-email">
              E-mail
            </label>
            <input id="invoice-recipient-email" name="invRecipientEmail" type="email" required>
          </div>
          <div class="field">
            <label for="invoice-recipient-phone">
              Telefon
            </label>
            <input id="invoice-recipient-phone" name="invRecipientPhone" type="tel"/>
          </div>
        </div>
      </fieldset>
    </div>
  </section>
  <script type="module">
    function showSection(id) {
      const section = document.getElementById(id);
      section.removeAttribute("aria-hidden");
      if (section.tagName == "FIELDSET") {
        section.removeAttribute("disabled");
      }
      for (const fieldset of section.querySelectorAll("fieldset")) {
        fieldset.removeAttribute("aria-hidden");
        fieldset.removeAttribute("disabled");
      }
    }
    function hideSection(id) {
      const section = document.getElementById(id);
      section.setAttribute("aria-hidden", "true");
      if (section.tagName == "FIELDSET") {
        section.setAttribute("disabled", "true");
      }
      for (const fieldset of section.querySelectorAll("fieldset")) {
        fieldset.setAttribute("aria-hidden", "true");
        fieldset.setAttribute("disabled", "true");
      }
    }
    window.showSection = showSection;
    window.hideSection = hideSection;

    hideSection("someone-else-will-pay");
    document.querySelector("#email").addEventListener("blur", event => {
      document.querySelector("#invoice-email").setAttribute("placeholder", event.target.value);
    });
    document.querySelector("#invoice-recipient").addEventListener("change", event => {
      if (event.target.value == 0) {
        showSection("I-will-pay");
        hideSection("someone-else-will-pay");
      } else if (event.target.value == 1) {
        hideSection("I-will-pay");
        showSection("someone-else-will-pay");
      }
    });
  </script>
  <p class="disclaimer">
    Následující informace bude možné doplnit později. Pokud ale už znáš odpovědi, můžeš si je tu připravit - změnit je
    bude možné :)
  </p>
  <section id="housing">
    <h2>Ubytování</h2>
    <div class="hc-card">
      <fieldset id="stay-time-section">
        <div class="field">
          <label for="stay-time">
            Na jak dlouho dorazíš?
          </label>
          <select name="stayTime" id="stay-time">
            <option value="0">Od čtvrtka večera do neděle</option>
            <option value="1">Od pátku do neděle</option>
            <option value="2">Jiné?</option>
          </select>
        </div>
        <div class="field" aria-hidden="true">
          <label for="custom-stay-time">
            Napiš nám, jak to plánuješ
          </label>
          <input id="custom-stay-time" name="stayTimeCustom" type="text"/>
        </div>
      </fieldset>
      <fieldset aria-hidden="true" disabled="true" id="stay-time-volunteer-section">
        <div class="field">
          <label for="stay-time-volunteer">
            Kdy přijedeš?
          </label>
          <select name="arrivalDayVolunteer" id="stay-time-volunteer">
            <option value="we">Můžu dorazit už ve středu a pomoci s přípravou (den před oficiálním začátkem)</option>
            <option value="th">Dorazím ve čtvrtek</option>
          </select>
        </div>
      </fieldset>
      <fieldset style="margin-top: 1rem;">
        <h3>Jak a kde budeš spát?</h3>
        <div class="choose">
          <input type="radio" name="housing" value="own-car" id="car-housing"/>
          <label for="car-housing">
            Přijedu autem a budu v něm i spát
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="own-caravan" id="caravan-housing"/>
          <label for="caravan-housing">
            Přivezu si <strong>vlastní karavan</strong>, ve kterém chci spát
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="open-air" id="openair-housing"/>
          <label for="openair-housing">
            Jsem pankáč a budu spát <strong>pod širákem</strong> nebo v&nbsp;hamace
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="own-tent" id="own-housing" checked="checked"/>
          <label for="own-housing">
            Přivezu si <strong>vlastní stan</strong> a v něm budu spát
            <span>v areálu je k dispozici louka pro stanování</span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="glamping" id="glamping-housing"/>
          <label for="glamping-housing">
            Dejte mi místo <strong>v Glamping stanu</strong>
            <span>
              Stany bereme od <a href="https://chillvillage.cz/">chillvillage.cz</a> a budou mít kapacity pro 4 - 6 lidí
            </span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="cottage" id="cottage-housing"/>
          <label for="cottage-housing">
            Chci postel <strong>v chatce</strong> pro 2, 4 nebo 6
            <span>
              Konkrétní postel si vybereš po zaplacení faktury
            </span>
          </label>
        </div>
        <div class="choose">
          <input type="radio" name="housing" value="nearby" id="nearby-housing"/>
          <label for="nearby-housing">
            Využiji možnost <strong>ubytování v okolí</strong> (penzion, hotel)
            <span>
              V okolí je několik hezkých penzionů, zeptej se crew na případné tipy.
            </span>
          </label>
        </div>

      </fieldset>
    </div>
  </section>
  <script type="module">
    document.querySelector("select#stay-time").addEventListener("change", event => {
      if (event.target.value == 2) {
        document.querySelector("#custom-stay-time").parentElement.removeAttribute("aria-hidden");
      } else {
        document.querySelector("#custom-stay-time").parentElement.setAttribute("aria-hidden", "true");
      }
    });
  </script>
  <section id="program">
    <h2>Zapojení</h2>
    <div class="hc-card">
      <p>Každý z účastníků je zároveň aktivní tvůrce programu. Ať jsi jednotlivec, nebo se hlásíš za tým, jak náš Hacker
        Camp můžeš obohatit? Nápady nelimitujeme :) Můžeš přispět přednáškou, workshopem, panelovkou, zorganizovat ranní
        výběh nebo turnaj ve fotbálku. Přivést můžeš i jakýkoliv doprovodný program – uvítáme vše od pípy, baristy a
        přípravy kávy až po DJs.</p>
      <p>V každé aktivitě respektujeme základní pravidlo: Hacker Camp je z principu nekomerční akce. Svoji vlastní
        službu nebo produkt můžeš propagovat a nabízet jen pokud to obohatí samotnou akci.</p>
      <div class="field field--block">
        <label for="activity">
          Jakou aktivitu sis pro táborníky připravil?
        </label>
        <textarea id="activity" name="activity" rows="5"></textarea>
      </div>
      <div class="field field--block">
        <label for="activity-crew">
          Kdo všechno s Tebou bude aktivitu zařízovat?
          <span>Vypiš nám sem všechna jména a dej nám telefonní číslo a mail na toho, s kým můžeme případně řešit.</span>
        </label>
        <textarea id="activity-crew" name="activityCrew" rows="5"></textarea>
      </div>
      <div class="field field--block">
        <label for="activity-place">
          Potřebuješ k tomu nějaké speciální zázemí?
          <span>Například zásuvku, elektriku, internet, klidné zákoutí…</span>
        </label>
        <textarea id="activity-place" name="activityPlace" rows="3"></textarea>
      </div>
    </div>
  </section>
  <section>
    <h2>Cesta / doprava</h2>
    <div class="hc-card">
      <h3>Jak se na camp dopravíš?</h3>
      <p>Jak se na camp dopravíš? Prosím zajisti si co nejvíc hromadný odvoz.
        Jsme v&nbsp;přírodě, čím méně aut tím lépe. Nechceme mít z&nbsp;lesa
        parkoviště. Pokud jedeš autem, prosím nalož ho alespoň 3&nbsp;lidmi. My
        i&nbsp;příroda ti děkujeme!</p>
      <div class="choose" id="travel-full-car">
        <input type="radio" name="travel" value="full-car" id="full-car"/>
        <label for="full-car">
          Přijedu autem a jsme full - jedeme ve 4
        </label>
      </div>
      <div class="choose">
        <input type="radio" name="travel" value="free-car" id="free-car"/>
        <label for="free-car">
          Přijedu autem a nabídnu spolujízdu
          <span>(budeme domlouvat na Hacker Camp Slacku), abych nabral s sebou minimálně další 3 lidi</span>
        </label>
      </div>
      <div class="choose">
        <input type="radio" name="travel" value="carpool" id="carpool"/>
        <label for="carpool">
          S někým se svezu,
          <span>počkám, kdo nabídne spolujízdu</span>
        </label>
      </div>
      <div class="choose" id="travel-bus">
        <input type="radio" name="travel" value="bus" id="bus"/>
        <label for="bus">
          Chci Hacker busem z Brna a okolí!
          <span>Tuhle variantu doplníme podle toho jaký o ní bude zájem</span>
        </label>
      </div>
      <div class="choose">
        <input type="radio" name="travel" value="no-car" id="no-car"/>
        <label for="no-car">
          Nejedu autem (využiju bus, vlak, kolo, pěškobusem),
          <span><strong>parking nepotřebuju</strong></span>
        </label>
      </div>
      <div class="choose" id="travel-no-car-but-info">
        <input type="radio" name="travel" value="no-car-but-info" id="no-car-but-info"/>
        <label for="no-car-but-info">
          Nejedu autem, ale zajímá mě, jestli mě umíte nějakým
          shuttlem přiblížit Campu
        </label>
      </div>
    </div>
  </section>
  <section>
    <button type="submit" class="hc-button">
      Závazně odeslat
    </button>
  </section>
  <input type="hidden" name="year" value="{{ year }}"/>
  <input type="hidden" name="referral"/>
</form>
<script type="module">
  const formElement = document.querySelector("#reg");
  const submitButtonElement = formElement.querySelector("button[type=submit]");
  const storagePrefix = "reg:";

  const {searchParams} = new URL(location.href);

  const volunteer = searchParams.has("volunteer");

  if (volunteer) {
    hideSection("hacker-greeting");
    showSection("volunteer-greeting");
    showSection("volunteer");
    hideSection("stay-time-section");
    showSection("stay-time-volunteer-section");
    hideSection("travel-full-car");
    hideSection("travel-bus");
    hideSection("travel-no-car-but-info");
    hideSection("ticket");
    hideSection("invoice");
    hideSection("program");
    document.querySelector("#contact h2").innerText = "Dobrovolník";
  }

  if (searchParams.has("referral")) {
    formElement.elements.referral.setAttribute(
      "value",
      searchParams.get("referral")
    );
  }

  for (let key in localStorage) {
    if (key.startsWith(storagePrefix) === false) {
      continue;
    }
    const value = localStorage.getItem(key);
    const field = formElement.elements[key.replace(storagePrefix, "")];

    if (!field || !value) continue;
    const isRadio = field.length && field[0].type === "radio";
    const isCheckbox = field.type === "checkbox";
    if (isCheckbox) {
      field.checked = value;
    } else if (isRadio) {
      formElement.querySelector(`[value="${value}"]`).setAttribute("checked", "checked");
    } else if (field.type === "textarea") {
      field.innerText = value;
    } else if (field.type === "select-one") {
      field.querySelector(`[value="${value}"]`).setAttribute("selected", "selected");
      field.dispatchEvent(new Event("change"));
    } else {
      field.setAttribute("value", value);
    }
  }

  if (searchParams.has("id")) {
    const params = new URLSearchParams({id: searchParams.get("id")});
    const response = await fetch(
      `https://api.hackercamp.cz/v1/registration?${params}`,
      {headers: {Accept: "application/json"}}
    );
    const data = await response.json();

    if (data.invoiced || data.paid) disableForm();

    for (let key in data) {
      const field = formElement.elements[key];
      let value = data[key];
      if (!field || !value) continue;
      const isRadio = field.length && field[0].type === "radio";
      const isCheckbox = field.type === "checkbox";
      if (isCheckbox) {
        field.checked = value;
      } else if (isRadio) {
        formElement.querySelector(`[value="${value}"]`).setAttribute("checked", "checked");
      } else if (field.type === "textarea") {
        field.innerText = value;
      } else if (field.type === "select-one") {
        if (value === true) value = "1";
        field.querySelector(`[value="${value}"]`).setAttribute("selected", "selected");
        field.dispatchEvent(new Event("change"));
      } else {
        field.setAttribute("value", value);
      }
    }
    submitButtonElement.innerText = "Upravit";
  }

  formElement.addEventListener("change", event => {
    const name = event.target.name;
    if (event.target.type === "checkbox") {
      if (event.target.checked) {
        localStorage.setItem(storagePrefix + name, "on");
      } else {
        localStorage.removeItem(storagePrefix + name);
      }
      return;
    }
    localStorage.setItem(storagePrefix + name, event.target.value);
  });

  formElement.addEventListener("submit", event => {
    event.preventDefault();
    submitButtonElement.setAttribute("disabled", "disabled");

    fetch(event.target.action, {
      method: "POST",
      body: new URLSearchParams(new FormData(event.target)),
      headers: {
        Accept: "application/json",
        "Content-Type": "application/x-www-form-urlencoded"
      },
    })
      .then(response => {
        if (!response.ok) {
          throw response.json();
        }
        return response.json();
      })
      .then(({editUrl}) => {
        for (let key in localStorage) {
          if (key.startsWith(storagePrefix)) {
            localStorage.removeItem(key);
          }
        }
        if (searchParams.has("referral")) {
          location.assign(
            `/registrace/odeslano/?${new URLSearchParams({editUrl, referral: searchParams.get("referral")})}`
          );
        } else {
          location.assign(
            `/registrace/odeslano/?${new URLSearchParams({editUrl})}`
          );
        }
      })
      .catch((o_O) => {
        console.error(o_O);
        alert("Se to někdě zaseklo, zkuste to prosím znovu");
      })
      .finally(() => {
        submitButtonElement.removeAttribute("disabled");
      })
  });

  function disableForm() {
    formElement.setAttribute("disabled", "disabled");
    formElement.querySelectorAll("input, textarea, select").forEach(field => {
      field.setAttribute("disabled", "disabled");
    });
    formElement.querySelectorAll("button").forEach(button => {
      button.setAttribute("disabled", "disabled");
    });
  }

</script>
<footer class="mdc-layout-grid">
  <p style="text-align: center">© 2021-{{ currentYear }} Hacker camp crew z.s., IČ <a
      href="https://or.justice.cz/ias/ui/rejstrik-firma.vysledky?subjektId=1158268&typ=PLATNY">17130476</a>;
    <a href="/zpracovani-osobnich-udaju/">Zpracování osobních údajů</a></p>
</footer>
<script type="module">
  const stylesheet = document.createElement("link");
  stylesheet.rel = "stylesheet";
  stylesheet.href = "/assets/css/main.css";
  document.head.appendChild(stylesheet);
</script>
</body>
</html>
